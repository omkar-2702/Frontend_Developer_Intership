<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Profile</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Navbar -->
<nav class="navbar">
    <h2>Catering System</h2>
    <ul>
        <li><a href="view-products.html">Products</a></li>
        <li>
            <a href="cart.html">
                Cart <span id="cartCount" class="cart-badge">0</span>
            </a>
        </li>
        <li><a href="orders.html">My Orders</a></li>
        <li><a href="profile.html">My Profile</a></li>
    </ul>
</nav>

<!-- Profile Section -->
<div class="profile-container">
    <h2>My Profile</h2>

    <form id="profileForm">
        <div class="profile-field">
            <label>Full Name</label>
            <input type="text" id="name" required>
        </div>

        <div class="profile-field">
            <label>Email</label>
            <input type="email" id="email" required>
        </div>

        <div class="profile-field">
            <label>Phone</label>
            <input type="text" id="phone">
        </div>

        <div class="profile-field">
            <label>Address</label>
            <textarea id="address"></textarea>
        </div>

        <button type="submit" class="save-btn">Save Profile</button>
    </form>
</div>

<script>
/* ---------- CART COUNT ---------- */
function updateCartCount() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let count = cart.reduce((sum, item) => sum + item.quantity, 0);
    document.getElementById("cartCount").innerText = count;
}
updateCartCount();

/* ---------- LOAD PROFILE ---------- */
let profile = JSON.parse(localStorage.getItem("profile")) || {};

document.getElementById("name").value = profile.name || "";
document.getElementById("email").value = profile.email || "";
document.getElementById("phone").value = profile.phone || "";
document.getElementById("address").value = profile.address || "";

/* ---------- SAVE PROFILE ---------- */
document.getElementById("profileForm").addEventListener("submit", function (e) {
    e.preventDefault();

    let profileData = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        phone: document.getElementById("phone").value,
        address: document.getElementById("address").value
    };

    localStorage.setItem("profile", JSON.stringify(profileData));
    alert("Profile updated successfully!");
});
</script>

</body>
</html>
